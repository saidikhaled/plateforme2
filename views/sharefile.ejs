<% include ./partials/header %>
<section class="container">

  
  <div class="col-md-8 col-md-offset-2">
    <h3 class="m-4 text-center">Share a File</h3>
   
    <form method="POST" action="/files/upload" enctype="multipart/form-data">
      <!-- COMPONENT START --> 
      <% include ./partials/messages %>
        <div class="form-group align-content-center">
            
            <input type="text" id="name" name="name" class="form-control mb-2" 
                placeholder="Enter the name of file"
                value="<%= typeof name != 'undefined' ? name : '' %>" />
        </div> 
        <select class="browser-default custom-select custom-select-md mb-2" name="selectpicker">
                <option value="Exercice">Exercice</option>
                <option value="composition">Composition</option>
                <option value="leçon">Leçon</option>
        </select>
        <div class="form-group ">
           
            <textarea type="text" id="description" name="description" class="form-control mb-2"
                placeholder="give a description for the file"
                value="<%= typeof firstName != 'undefined' ? firstName : '' %>" ></textarea>
        </div>
        <div class="form-group">
              
        <div class="input-group input-file" name="my_file">
            <span class="input-group-btn">
                  <button class="btn btn-default btn-choose" type="button">Choose</button>
              </span>
              <input type="text" class="form-control" placeholder='click here to choose a file...' />
              <span class="input-group-btn">
                    <button class="btn btn-warning btn-reset" type="button">Reset</button>
              </span>
          </div>
      </div>   
      <button type="submit" class="btn btn-primary pull-right" >Submit</button>
    </form>
  <br>

  </div>


<br>
<img src="<%= typeof file != 'undefined' ? file : '' %>"  class="img-fluid" alt="">
<br>
<br>




<script type="text/javascript">
   function bs_input_file() {
	$(".input-file").before(
		function() {
			if ( ! $(this).prev().hasClass('input-ghost') ) {
				var element = $("<input type='file' class='input-ghost' style='visibility:hidden; height:0'>");
				element.attr("name",$(this).attr("name"));
				element.change(function(){
					element.next(element).find('input').val((element.val()).split('\\').pop());
				});
				$(this).find("button.btn-choose").click(function(){
					element.click();
				});
				$(this).find("button.btn-reset").click(function(){
					element.val(null);
					$(this).parents(".input-file").find('input').val('');
				});
				$(this).find('input').css("cursor","pointer");
				$(this).find('input').mousedown(function() {
					$(this).parents('.input-file').prev().click();
					return false;
				});
				return element;
			}
		}
	);
}
$(function() {
	bs_input_file();
});



</script>
</section>